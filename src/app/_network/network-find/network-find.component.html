<div class="find-container">

    <form id="searchForm" class="form-inline controls" novalidate #searchForm="ngForm" (ngSubmit)="searchNetwork()">
        <!-- <label for="searchTerm" class="sr-only">Password</label> -->
        <input type="text" class="form-control" id="searchTerm" name="searchTerm" placeholder="type search criterion"
            [(ngModel)]="searchTerm" required>
        <!-- </div> -->
        <button type="submit" class="btn btn-primary" [disabled]="!searchForm.valid">Search</button>
        <!-- <button *ngIf="(searching)" class="btn btn-primary" type="submit" disabled>
      Searching the Birder network
      <span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
    </button> -->
    </form>

    <hr>

    <div *ngIf="(_service.getSearchResults | async) as results">

        <div *ngIf="results.length">
            <div *ngFor="let user of results">
                <app-network-user [user]="user"></app-network-user>
            </div>
        </div>

        <div *ngIf="!results.length">
            <ngb-alert [dismissible]="false" class="d-block mt-3" type="info">
                No results...
            </ngb-alert>
        </div>

    </div>


    <div #loadingOrError>
        <ng-container *ngIf="(_service.isError | async)">
            <!-- <app-error-display [error]="errorObject"></app-error-display> -->
            <!-- ToDo: alert with button on the right? -->
            <p>An error occurred.  Please try searching again.</p>
            <!-- <button data-testid="reload-button" (click)="reload()">Retry</button> -->
        </ng-container>
    </div>

    <div #loading>
        <div class="loading-placeholder" *ngIf="(_service.isLoading | async)">
            <p><em>Loading...</em></p>
            <mat-spinner></mat-spinner>
        </div>
    </div>

</div>